#include "lake_counting.h"

static const int N = 10, M = 12;
static char field[N][M] = {
	{'W',	'.',	'.',	'.',	'.',	'.',	'.',	'.',	'.',	'W',	'W',	'.',},
	{'.',	'W',	'W',	'W',	'.',	'.',	'.',	'.',	'.',	'W',	'W',	'W',},
	{'.',	'.',	'.',	'.',	'W',	'W',	'.',	'.',	'.',	'W',	'W',	'.',},
	{'.',	'.',	'.',	'.',	'.',	'.',	'.',	'.',	'.',	'W',	'W',	'.',},
	{'.',	'.',	'.',	'.',	'.',	'.',	'.',	'.',	'.',	'W',	'.',	'.',},
	{'.',	'.',	'W',	'.',	'.',	'.',	'.',	'.',	'.',	'W',	'.',	'.',},
	{'.',	'W',	'.',	'W',	'.',	'.',	'.',	'.',	'.',	'W',	'W',	'.',},
	{'W',	'.',	'W',	'.',	'W',	'.',	'.',	'.',	'.',	'.',	'W',	'.',},
	{'.',	'W',	'.',	'W',	'.',	'.',	'.',	'.',	'.',	'.',	'W',	'.',},
	{'.',	'.',	'W',	'.',	'.',	'.',	'.',	'.',	'.',	'.',	'W',	'.',},
};

void dfs(int x, int y)
{
	// ¡‚Ì“_‚ğ'.'‚É’u‚«Š·‚¦‚é
	field[x][y] = '.';

	// 8•ûŒü‚ğ’²‚×‚é
	for (int dx = -1; dx <= 1; dx++)
	{
		for (int dy = -1; dy <= 1; dy++)
		{
			int nx = x + dx;
			int ny = y + dy;

			// nx, ny‚ª”ÍˆÍ“à‚Åfield[nx][ny]‚ª…—­‚è‚È‚çÄ‹A
			if (0 <= nx && nx < N && 0 <= ny && ny < M && field[nx][ny] == 'W')
				dfs(nx, ny);
		}
	}
}

int lake_counting()
{
	int total = 0;
	for (int i = 0; i < N; i++)
	{
		for (int j = 0; j < M; j++)
		{
			if (field[i][j] == 'W')
			{
				dfs(i, j);
				total++;
			}

		}
	}
	return total;
}